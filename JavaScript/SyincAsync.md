# 비동기 프로그래밍

## 1. 동기 처리와 비동기 처리

자바스크립트 엔진은 단 하나의 실행 컨텍스트 스택을 갖는다. 싱글 스레드 방식은 시간이 걸리는 태스크를 실행하는 경우 블로킹이 발생한다. 

```javascript
function foo() {
  console.log('foo');
}

function bar() {
  console.log('bar');
}

setTimeout(foo, 3000);
bar();
//bar 호출 3초 후 foo 호출
```
실행중인 태스크가 종료되지 않은 상태라 해도 다음 태스크를 곧바로 실행하는 방식을 비동기처리라고 한다.  
타이머 함수인 setTimeout과 setInterval, HTTP 요청, 이벤트 핸들러는 비동기 처리 방식으로 동작한다.

## 2. 이벤트 루프 & 태스크 큐

싱글 스레드 방식은 한 번에 하나씩 처리할 수 있지만 브라우저는 여러 가지를 동시에 처리하는 것 처럼 보인다. 이처럼 여러 태스크가 동시에 진행되는 것 처럼 보이게 하는 것이 바로 이벤트 루프이다. 
실제 프로그램이 실행되는 영역인 콜 스택, 비동기 처리를 위해 잠시 빼두는 영역인 태스크큐 를 확인하면서 콜 스택이 비어있고, 태스크 큐에 대기 중인 함수가 있다면 태스크를 콜 스택으로 이동시킨다. 